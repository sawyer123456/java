package Thread;

public class DeadLock {
	public static void main(String[] args) {

	}
}

class Lipstick {

}

class Mirror {

}

class MakeUp extends Thread {
	static Lipstick lipstick = new Lipstick();
	static Mirror mirror = new Mirror();

	int choice;

	String girl;

	public MakeUp(int choice, String girl) {
		this.choice = choice;
		this.girl = girl;
	}

	@Override
	public void run() {
		markUp();
	}
	//相互持有2个对象，造成死锁
	private void markUp() {

		if(choice==0) {
			synchronized (lipstick) {
				System.out.println(this.girl+"使用口红");
				
				try {
					Thread.sleep(1000);
				} catch (InterruptedException e) {
					// TODO Auto-generated catch block
					e.printStackTrace();
				}
				
				synchronized (mirror) {
					System.out.print(this.girl +"使用镜子");
				}
			}
		}
		else {
			synchronized (mirror ) {
			System.out.println(this.girl+"使用口红");
			
			try {
				Thread.sleep(1000);
			} catch (InterruptedException e) {
				// TODO Auto-generated catch block
				e.printStackTrace();
			}
			
			synchronized (lipstick) {
				System.out.print(this.girl +"使用镜子");
			}
		}
			
		}
	}

}